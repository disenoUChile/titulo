<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>DISEÑO — COORDINACIÓN DE TÍTULO</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
        <link href="style.css" rel="stylesheet" />
    </head>
    <body class="bg-light">
        <nav class="fixed-top bg-light" style="opacity: 0.95;">
            <div class="container">
                <div class="row">
                    <div class="col-sm-11 col-md-10 col-lg-9 col-xl-8 col-xxl-7 mx-auto">
                        <div class="row align-items-center">
                            <div class="col-6 py-3">
                                <h3 class="float-start fs-6 m-0 p-0">DISEÑO — <span class="d-none d-md-inline">COORDINACIÓN DE</span> TÍTULO</h3>
                            </div>
                            <div class="col-6 py-3">
                                <select class="form-select form-select-sm w-75 float-end m-0 py-1 px-2" onchange="location = this.value;">
                                    <option value="#">MENÚ</option>
                                    <option value="index.html">Abecé</option>
                                    <option value="evaluaciones.html">Evaluaciones</option>
                                    <option value="guiaturas.html" selected>Guiaturas</option>
                                    <option value="memorias.html">Memorias</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <div class="container pt-5">
            <div class="row">
                <div class="col-sm-11 col-md-10 col-lg-9 col-xl-8 col-xxl-7 mx-auto">
                    <h1 class="display-5 mt-5 mb-4 text-body-tertiary">Guiaturas</h1>

                    <p>En el <a href="https://fau.uchile.cl/dam/jcr:3f7b4e53-cea0-48fe-9f31-8e1991e21d29/Dise%EF%BF%BDo_v4.pdf" target="_blank" class="link-dark">reglamento del plan de estudios</a> se establece, originalmente, que:</p>

                    <ul>

                        <li class="mx-3 text-body-secondary small mb-2">[El trabajo tutelado de Seminario de Licenciatura se desarrolla] bajo la dirección de un(a) académico(a) con jerarquía de Profesor(a) adscrito al Departamento de Diseño o a la Escuela de Pregrado que haya desarrollado investigación relacionada con el tema abordado (Art. 9)</li>

                        <li class="mx-3 text-body-secondary small">[Para Profesor/a Guía de Proyecto de Título deben respetarse] los mismos criterios definidos en artículo 9 (Art 27).</li>

                    </ul>

                    <p><em>Por un ajuste al reglamento, queda que la dirección puede ser directa o indirecta</em>; este ajuste habilita a docentes que no cumplen con adscripción ni jerarquía a desempeñarse como co-guías.</p> 

                    <p>Quienes se desempeñan como guías o co-guías en Seminario de Licenciatura (I y II), aportan al segundo ciclo del plan de formación, con énfasis en EXPLORAR PARA INTERVENIR. Quienes lo hacen en Proyecto de Título (I y II), aportan al tercer y último ciclo: PROPONER PARA TRANSFORMAR.</p>

                    <p>En la tabla que sigue se indica la cantidad de guiadas/os en segundo semestre de 2023:</p>

                <table class="table table-hover small">
                <!--<caption class="text-center small text-body-secondary">* Docentes que no cumplen con adscripción ni jerarquía, habilitadas/os por ajuste de reglamento a ser co-guías.</caption>-->
                <thead>
                    <tr>
                        <th>Profesor(a) Guía</th>
                        <th class="text-center">Seminario</th>
                        <th class="text-center">Proyecto</th>
                        <th class="text-center">TOTAL</th>
                    </tr>
                </thead>
                <tbody id="docentes"></tbody>
            </table> 
                    
                </div>
            </div>
        </div>

        <div class="pt-5">
            <div class="container">
                <div class="row">
                    <div class="col-sm-11 col-md-10 col-lg-9 col-xl-8 col-xxl-7 mx-auto">
                        <p class="small d-flex justify-content-between align-items-center text-body-secondary">
                            <span>Desarrollado por <a href="https://faco.cl/profesor/" target="_blank" class="link-secondary" title="Felipe Alberto Cortez Orellana">FACO</a></span>
                            <span><a href="mailto:coordinacion.titulo.diseno@uchilefau.cl" class="link-secondary">coordinacion.titulo.diseno@uchilefau.cl</a></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script>
            document.addEventListener("scroll", (event) => {
                document.querySelector("nav").classList.add("shadow-sm");
            });

            document.addEventListener("scrollend", (event) => {
                var y = window.scrollY;
                if (y == 0) {
                    document.querySelector("nav").classList.remove("shadow-sm");
                }
            });

            var parciales = {
                seminario: [],
                titulo: []
            };
            var total;
            var profes = [];
            var docentesSinRepetir;
            const docentes = document.querySelector("#docentes");

            Papa.parse("https://raw.githubusercontent.com/disenoUChile/titulo/main/data/guiaturas.csv", {
                download: true,
                header: true,
                complete: function (results) {
                    console.log(results);
                    datos = results.data;
                    datos.forEach((d) => {
                        if (d.year == "4") { parciales.seminario.push(d); } 
                        if (d.year == "4") { parciales.titulo.push(d); } 
                        profes.push(d.profe);
                    });
                    total = parciales.seminario.length + parciales.titulo.length;
                    docentesSinRepetir = [...new Set(profes)];
                    var todos = 0;
                    var filaTipo;
                    docentesSinRepetir.forEach(x => {
                        docentes.innerHTML += `<tr><td>${x}</td><td class="text-center">${seminaristas(x)}</td><td class="text-center">${titulantes(x)}</td><td class="text-center fw-bold">${todas(x)}</td></tr>`;

                    })
                }
            });
            function todas(x) {
                let numero = 0;
                datos.forEach(d => {
                    if (d.profe == x) { 
                        numero++;
                    }
                })
                return numero;
            }

            function seminaristas(x) {
                let numero = 0;
                datos.forEach(d => {
                    if (d.profe == x && d.year == "4") { 
                        numero++;
                    }
                })
                return numero;
            }

            function titulantes(x) {
                let numero = 0;
                datos.forEach(d => {
                    if (d.profe == x && d.year == "5") { 
                        numero++;
                    }
                })
                return numero;
            }


        </script>
    </body>
</html>